openapi: 3.0.0
info:
  title: PingOne Platform API - PingOne Verify
  description: The PingOne Platform API covering the PingOne Risk service
  version: '2023-05-26'
externalDocs:
  url: https://apidocs.pingidentity.com/pingone/platform/v1/api/#pingone-verify
  description: PingOne Platform API Reference - PingOne Verify APIs
servers:
  - url: https://api.pingone.{suffix}
    description: PingOne Platform API Endpoint
    variables:
      suffix:
        enum:
          - 'eu'
          - 'com'
          - 'asia'
          - 'ca'
        default: 'com'
components:
  securitySchemes:
    bearer:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: OAuth bearer token (see documentation)
  schemas:        
    EntityArray:
      type: object
      properties:
        '_embedded':
          type: object
          properties:
            riskPolicySets:
              type: array
              items:
                $ref: '#/components/schemas/RiskPolicySet'
            riskPredictors:
              type: array
              items:
                $ref: '#/components/schemas/RiskPredictor'
        count:
          type: number
        size:
          type: number
    EnumLongTimeUnit:
      type: string
      enum: [SECONDS, MINUTES, HOURS]
      description: A string that defines the time unit of a specified duration. Options are `SECONDS`, `MINUTES` and `HOURS`.
    EnumShortTimeUnit:
      type: string
      enum: [SECONDS, MINUTES]
      description: A string that defines the time unit of a specified duration in `SECONDS` or `MINUTES`.
    EnumThreshold:
      type: string
      enum: [LOW, MEDIUM, HIGH]
      description: A string that defines the verification comparison threshold. Options are `LOW`, `MEDIUM` and `HIGH`.      
    EnumVerify:
      type: string
      enum: [REQUIRED, OPTIONAL, DISABLED]
      description: A string that defines the verification check requirements. Options are `REQUIRED`, `OPTIONAL` and `DISABLED`.
    FacialComparisonConfiguration:    
      type: object
      properties:
        verify:
          description: Controls if facial comparison is REQUIRED, OPTIONAL, or DISABLED.
          type: string
        threshold:
          description: Threshold for successful facial comparison; can be LOW, MEDIUM, or HIGH (for which PingOne Verify uses industry and vendor recommended definitions).
          type: string        
      required:
        - threshold
        - verify      
    GovernmentIdConfiguration:    
      type: object
      properties:
        verify:
          description: Controls if Government ID verification is REQUIRED, OPTIONAL, or DISABLED.
          type: string
      required:
        - verify
    LivenessConfiguration:    
      type: object
      properties:
        verify:
          description: Controls if liveness check is REQUIRED, OPTIONAL, or DISABLED.
          type: string
        threshold:
          description: Threshold for successful facial comparison; can be LOW, MEDIUM, or HIGH (for which PingOne Verify uses industry and vendor recommended definitions).
          type: string        
      required:
        - threshold
        - verify       
    TransactionConfiguration:    
      type: object
      properties:
        transaction:
          type: object
          properties:
            timeout:
              type: object
              properties:
                duration:
                  type: integer
                  description: Length of time before transaction timeout expires; range is 0-30 minutes or 0-1800 seconds.                  
                timeUnit:
                  $ref: '#/components/schemas/EnumShortTimeUnit'
                  description: Time unit of transaction timeout; can be SECONDS, MINUTES.
              required:
                - duration
                - timeUnit
            dataCollection:
              type: object
              properties:
                timeout:
                  type: object
                  properties:
                    duration:
                      type: integer
                      description: Length of time before data collection timeout expires; range is 0-30 minutes or 0-1800 seconds.
                    timeUnit:
                      $ref: '#/components/schemas/EnumShortTimeUnit'
                      description: Time unit of transaction timeout; can be SECONDS, MINUTES.
                  required:
                    - duration
                    - timeUnit
              required:
                - timeout
            dataCollectionOnly:
              type: boolean
    ObjectEnvironment:
      type: object
      readOnly: true
      properties:
        id:
          type: string
          readOnly: true
          description: A string that specifies the environment associated with the object.
    P1Error:
      type: object
      properties: 
        id:
          description: A unique identifier that is stored in log files and always included in an error response. This value can be used to track the error received by the client, with server-side activity included for troubleshooting purposes.
          type: string
        code:
          description: A general fault code which the client must handle to provide all exception handling routines and to localize messages for users. This code is common across all PingOne services and is human readable (such as a defined constant rather than a number).
          type: string
        message:
          description: A short description of the error. This message is intended to assist with debugging and is returned in English only.
          type: string
        details:
          description: Additional details about the error. Optional information to help resolve the error and to display to users.
          type: array
          items:
            type: object
            properties:
              code:
                description: A general fault code which the client must handle to provide all exception handling routines and to localize messages for users. This code is common across all PingOne services and is human readable (such as a defined constant rather than a number).
                type: string
              target:
                description: The item that caused the error (such as a form field ID or an attribute inside a JSON object).
                type: string
              message:
                description: A short description of the error. This message is intended to assist with debugging and is returned in English only.
                type: string
              innerError:
                description: Additional details to help the client developer resolve the fault (primarily for UI validation reasons).
                type: object
                properties:
                  rangeMinimumValue:
                    description: Errors that failed due to range violation. This attribute represents the minimum value of the range.
                    type: integer
                  rangeMaximumValue:
                    description: The maximum range or value of an attribute.
                    type: integer
                  allowedPattern:
                    description: A regex pattern describing an acceptable input pattern.
                    type: string
                  allowedValues:
                    description: A list describing acceptable values.
                    type: array
                    items:
                      type: string
                  maximumValue:
                    description: The maximum value allowed for the request.
                    type: integer

paths:
  /environments/{envID}/verifyPolicies:
    get:
      tags:
      - Verify Policies
      summary: Read All Verify Policies
      description: This PingOne collection contains only the REST API request examples without documentation. For complete documentation, go to <a href="https://apidocs.pingidentity.com/pingone/platform/v1/api/">apidocs.pingidentity.com</a>.
      operationId: readAllVerifyPolicies
      responses:
        '200':
          description: ''
    post:
      tags:
      - Verify Policies
      summary: Create Verify Policy
      description: This PingOne collection contains only the REST API request examples without documentation. For complete documentation, go to <a href="https://apidocs.pingidentity.com/pingone/platform/v1/api/">apidocs.pingidentity.com</a>.
      operationId: createVerifyPolicy
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                default:
                  type: boolean
                  example: false
                description:
                  type: string
                  example: All types required
                email:
                  type: object
                  properties:
                    createMfaDevice:
                      type: boolean
                      example: true
                    otp:
                      type: object
                      properties:
                        attempts:
                          type: object
                          properties:
                            count:
                              type: number
                              example: 5
                        deliveries:
                          type: object
                          properties:
                            cooldown:
                              type: object
                              properties:
                                duration:
                                  type: number
                                  example: 30
                                timeUnit:
                                  type: string
                                  example: SECONDS
                            count:
                              type: number
                              example: 3
                        lifeTime:
                          type: object
                          properties:
                            duration:
                              type: number
                              example: 10
                            timeUnit:
                              type: string
                              example: MINUTES
                        notification:
                          type: object
                          properties:
                            templateName:
                              type: string
                              example: email_phone_verification
                    verify:
                      type: string
                      example: REQUIRED
                facialComparison:
                  type: object
                  properties:
                    threshold:
                      type: string
                      example: HIGH
                    verify:
                      type: string
                      example: REQUIRED
                governmentId:
                  type: object
                  properties:
                    verify:
                      type: string
                      example: REQUIRED
                liveness:
                  type: object
                  properties:
                    threshold:
                      type: string
                      example: HIGH
                    verify:
                      type: string
                      example: REQUIRED
                name:
                  type: string
                  example: Verify everything
                phone:
                  type: object
                  properties:
                    createMfaDevice:
                      type: boolean
                      example: true
                    otp:
                      type: object
                      properties:
                        attempts:
                          type: object
                          properties:
                            count:
                              type: number
                              example: 5
                        deliveries:
                          type: object
                          properties:
                            cooldown:
                              type: object
                              properties:
                                duration:
                                  type: number
                                  example: 30
                                timeUnit:
                                  type: string
                                  example: SECONDS
                            count:
                              type: number
                              example: 3
                        lifeTime:
                          type: object
                          properties:
                            duration:
                              type: number
                              example: 10
                            timeUnit:
                              type: string
                              example: MINUTES
                        notification:
                          type: object
                          properties:
                            templateName:
                              type: string
                              example: email_phone_verification
                    verify:
                      type: string
                      example: REQUIRED
                transaction:
                  type: object
                  properties:
                    dataCollection:
                      type: object
                      properties:
                        timeout:
                          type: object
                          properties:
                            duration:
                              type: number
                              example: 15
                            timeUnit:
                              type: string
                              example: MINUTES
                    dataCollectionOnly:
                      type: boolean
                      example: false
                    timeout:
                      type: object
                      properties:
                        duration:
                          type: number
                          example: 30
                        timeUnit:
                          type: string
                          example: MINUTES
            example:
              default: false
              description: All types required
              email:
                createMfaDevice: true
                otp:
                  attempts:
                    count: 5
                  deliveries:
                    cooldown:
                      duration: 30
                      timeUnit: SECONDS
                    count: 3
                  lifeTime:
                    duration: 10
                    timeUnit: MINUTES
                  notification:
                    templateName: email_phone_verification
                verify: REQUIRED
              facialComparison:
                threshold: HIGH
                verify: REQUIRED
              governmentId:
                verify: REQUIRED
              liveness:
                threshold: HIGH
                verify: REQUIRED
              name: Verify everything
              phone:
                createMfaDevice: true
                otp:
                  attempts:
                    count: 5
                  deliveries:
                    cooldown:
                      duration: 30
                      timeUnit: SECONDS
                    count: 3
                  lifeTime:
                    duration: 10
                    timeUnit: MINUTES
                  notification:
                    templateName: email_phone_verification
                verify: REQUIRED
              transaction:
                dataCollection:
                  timeout:
                    duration: 15
                    timeUnit: MINUTES
                dataCollectionOnly: false
                timeout:
                  duration: 30
                  timeUnit: MINUTES
      responses:
        '200':
          description: ''
    parameters:
    - name: envID
      in: path
      required: true
      schema:
        type: string
  /environments/{envID}/verifyPolicies/{verifyPolicyID}:
    get:
      tags:
      - Verify Policies
      summary: Read One Verify Policy
      description: This PingOne collection contains only the REST API request examples without documentation. For complete documentation, go to <a href="https://apidocs.pingidentity.com/pingone/platform/v1/api/">apidocs.pingidentity.com</a>.
      operationId: readOneVerifyPolicy
      responses:
        '200':
          description: ''
    put:
      tags:
      - Verify Policies
      summary: Update Verify Policy
      description: This PingOne collection contains only the REST API request examples without documentation. For complete documentation, go to <a href="https://apidocs.pingidentity.com/pingone/platform/v1/api/">apidocs.pingidentity.com</a>.
      operationId: updateVerifyPolicy
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                default:
                  type: boolean
                  example: false
                description:
                  type: string
                  example: Verify Government ID and compare Selfie
                facialComparison:
                  type: object
                  properties:
                    threshold:
                      type: string
                      example: HIGH
                    verify:
                      type: string
                      example: REQUIRED
                governmentId:
                  type: object
                  properties:
                    verify:
                      type: string
                      example: REQUIRED
                liveness:
                  type: object
                  properties:
                    threshold:
                      type: string
                      example: HIGH
                    verify:
                      type: string
                      example: REQUIRED
                name:
                  type: string
                  example: Identity Verification
            example:
              default: false
              description: Verify Government ID and compare Selfie
              facialComparison:
                threshold: HIGH
                verify: REQUIRED
              governmentId:
                verify: REQUIRED
              liveness:
                threshold: HIGH
                verify: REQUIRED
              name: Identity Verification
      responses:
        '200':
          description: ''
    delete:
      tags:
      - Verify Policies
      summary: Delete Verify Policy
      description: This PingOne collection contains only the REST API request examples without documentation. For complete documentation, go to <a href="https://apidocs.pingidentity.com/pingone/platform/v1/api/">apidocs.pingidentity.com</a>.
      operationId: deleteVerifyPolicy
      responses:
        '200':
          description: ''
    parameters:
    - name: envID
      in: path
      required: true
      schema:
        type: string
    - name: verifyPolicyID
      in: path
      required: true
      schema:
        type: string
tags:
- name: Verify Policies
  description: This PingOne collection contains only the REST API request examples without documentation. For complete documentation, go to <a href="https://apidocs.pingidentity.com/pingone/platform/v1/api/">apidocs.pingidentity.com</a>.

